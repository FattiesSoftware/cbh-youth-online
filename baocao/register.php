<?php// Change this to your connection info.$DATABASE_HOST = 'localhost';$DATABASE_USER = 'root';$DATABASE_PASS = '';$DATABASE_NAME = 'members';// Try and connect using the info above.$con = mysqli_connect($DATABASE_HOST, $DATABASE_USER, $DATABASE_PASS, $DATABASE_NAME);if (mysqli_connect_errno()) {	// If there is an error with the connection, stop the script and display the error.	die ('Failed to connect to MySQL: ' . mysqli_connect_error());}// Now we check if the data was submitted, isset() function will check if the data exists.if (!isset($_POST['name'], $_POST['username'], $_POST['password'], $_POST['email'])) {	// Could not get the data that should have been sent.	die ('Please complete the registration form!');}// Make sure the submitted registration values are not empty.if (empty($_POST['name']) || empty($_POST['username']) || empty($_POST['password']) || empty($_POST['email'])) {	// One or more values are empty.	die ('Please complete the registration form')	;}if (!filter_var($_POST['email'], FILTER_VALIDATE_EMAIL)) {	die ('Email is not valid!');}if (preg_match('/[A-Za-z0-9]+/', $_POST['username']) == 0) {    die ('Username is not valid!');}if (strlen($_POST['password']) > 20 || strlen($_POST['password']) < 5) {	die ('Password must be between 5 and 20 characters long!');}	$name = $_POST['name'];// We need to check if the account with that username exists.if ($stmt = $con->prepare('SELECT id,  password FROM accounts WHERE  username = ? ')) {	// Bind parameters (s = string, i = int, b = blob, etc), hash the password using the PHP password_hash function.	$stmt->bind_param('s', $_POST['username']);	$stmt->execute();	$stmt->store_result();	// Store the result so we can check if the account exists in the database.	if ($stmt->num_rows > 0) {		// Username already exists		$message = 'Username exists, please choose another!';	} else {// Username doesnt exists, insert new accountif ($stmt = $con->prepare('INSERT INTO accounts (name, username, password, email) VALUES (?, ?, ?, ?)')) {	// We do not want to expose passwords in our database, so hash the password and use password_verify when a user logs in.	$name = $_POST['name'];	$password = password_hash($_POST['password'], PASSWORD_DEFAULT);	$stmt->bind_param('ssss', $_POST['name'], $_POST['username'], $password, $_POST['email']);	$stmt->execute();	$message = 'You have successfully registered, you can now login!';} else {	// Something is wrong with the sql statement, check to make sure accounts table exists with all 3 fields.	$message = 'Could not prepare statement!';}	}	$stmt->close();} else {	// Something is wrong with the sql statement, check to make sure accounts table exists with all 3 fields.	$message = 'Could not prepare statement!';}$con->close();?><!DOCTYPE html><html>    <head>        <meta charset="UTF-8">        <title></title>        <!-- Latest compiled and minified CSS -->        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >        <style>            .text-danger p{                color: red;                margin-top: 0;            }        </style>    </head>    <body>        <div class="col-lg-4 col-lg-offset-4" >            <div class="form" >                <h1 style="font-size: 22px;">Registration form</h1>                <form method ="post" action="register.php">                    <div class="form-group">                        <div><input type="text" class="form-control" name="name" placeholder="Name"></div>                                           </div>                    <div class="form-group">                        <input type="text" class="form-control" name="email" placeholder="Email">                                            </div>                    <div class="form-group">                        <input type="text" class="form-control" name="username" placeholder="Username">                                           </div>                    <div class="form-group">                        <input type="password" class="form-control" name="password" placeholder="Password">                                            </div>                    <div class="form-group">                        <input type="password" class="form-control" name="confirm_password" placeholder="Confirm Password"  >                                            </div>					<p style="color:red"><?php echo $message ?></p>                    <div class="form-group">                        <input type="submit" class="btn btn-info" value="Register" name="insert" style="width: 100%;"/>                    </div>                </form>									<center><a href="/baocao"><i class="fas fa-arrow-left"></i>Đã có tài khoản?</a></center>            </div>        </div>    </body></html>